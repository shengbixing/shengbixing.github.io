<!doctype html>
<html class="theme-next use-motion">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


  <meta name="google-site-verification" content="VvyjvVXcJQa0QklHipu6pwm2PJGnnchIqX7s5JbbT_0" />



  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.3.0rc3"/>


    <meta name="description" content="胡编一通，乱写一气" />



    <link rel="alternate" href="/atom.xml" title="IIssNan's Notes" type="application/atom+xml" />



    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.3.0rc3" />



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?50c15455e37f70aea674ff4a663eef27";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <title> 归档 // IIssNan's Notes </title>
</head>

<body>
  <div class="container one-column
               page-not-home 
               page-archive ">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner clearfix">
        <h1 class="site-meta">
    <a href="/" class="brand">
        <span class="logo">
          <i class="icon-logo"></i>
        </span>
        <span class="site-title">IIssNan's Notes</span>
    </a>
</h1>


  <ul id="menu" class="menu">
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            

  <span class="archive-move-on"></span>

  <span class="archive-page-counter">
    
    
     
    
    非常好! 目前共计 172 篇日志。 继续努力。
  </span>

  

    
    
    

    
      
      <div class="collection-title">
        <h2 class="archive-year motion-element" id="archive-year-2014">2014</h2>
      </div>
    
    

    

  <div class="post post-type-quote ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-25
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/what-not-to-do-and-what-to-do/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/what-not-to-do-and-what-to-do/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <blockquote>
<p>Deciding what not to do is as important as deciding what to do.</p>
<p><strong>Steve Jobs</strong></p>
</blockquote>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/quote/">
                #Quote
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Detecting IE6 using features
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-23
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/Detecting-IE6-using-features/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/Detecting-IE6-using-features/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>通过判断<code>body.style.maxHeight</code>（IE7开始支持<code>max-width</code>, <code>max-height</code>）：</p>
<pre><code><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">document</span>.body.style.maxHeight !== <span class="string">'undefined'</span>) {
    <span class="comment">// IE7+, Mozilla, safari, Opera</span>
} <span class="keyword">else</span> {
    <span class="comment">// IE6-</span>
}
</code></pre><p>或者判断window.XMLHttpRequest对象：</p>
<pre><code><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) {
    <span class="comment">// IE7+, Mozilla, safari, Opera</span>
} <span class="keyword">else</span> {
    <span class="comment">// IE6-</span>
}
</code></pre><p>除此两个使用特性做检测的方法外，还有条件注释等方法。</p>
<p>应用场景比如：置顶工具条或者其他固定位置的元素（<code>position:fixed</code>）</p>
<p>参考资料：</p>
<ul>
<li><a href="http://ajaxian.com/archives/detecting-ie7-in-javascript" target="_blank" rel="external">Detecting IE7+ in JavaScript - Ajaxian</a></li>
</ul>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/ie/">
                #IE
              </a>
            
              <a href="/tags/ie6/">
                #IE6
              </a>
            
              <a href="/tags/javascript/">
                #JavaScript
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Function bind polyfill
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-22
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/Function-bind-polyfill/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/Function-bind-polyfill/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>A polyfill function for ES5 <code>Function.prototype.bind</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
<span class="line">3</span>
<span class="line">4</span>
<span class="line">5</span>
<span class="line">6</span>
<span class="line">7</span>
<span class="line">8</span>
<span class="line">9</span>
<span class="line">10</span>
<span class="line">11</span>
<span class="line">12</span>
<span class="line">13</span>
<span class="line">14</span>
<span class="line">15</span>
<span class="line">16</span>
<span class="line">17</span>
<span class="line">18</span>
<span class="line">19</span>
<span class="line">20</span>
<span class="line">21</span>
</pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind) &#123;</span>
<span class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> <span class="params">(obj)</span> </span>&#123;</span>
<span class="line">    <span class="keyword">var</span> slice = [].slice;</span>
<span class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span>
<span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span>
<span class="line">    <span class="keyword">var</span> nop = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;;</span>
<span class="line">    <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span>
<span class="line">      <span class="keyword">return</span> self.apply(</span>
<span class="line">        <span class="keyword">this</span>.instanceof nop ? <span class="keyword">this</span> : (obj || &#123;&#125;),</span>
<span class="line">        args.concat(slice.call(<span class="built_in">arguments</span>))</span>
<span class="line">      );</span>
<span class="line">    </span>
<span class="line">    nop.prototype = self.prototype;</span>
<span class="line">    bound.prototype = <span class="keyword">new</span> nop();</span>
<span class="line">    </span>
<span class="line">    <span class="keyword">return</span> bound;</span>
<span class="line">  &#125;;</span>
<span class="line">&#125;</span>
<span class="line"></span>
<span class="line"><span class="comment">// fn.bind(obj&#125;) =&gt; obj.bound =&gt; obj.bound(args)</span></span>
<span class="line"><span class="comment">// Ctrl.bind(new Ctrl())</span></span>
</pre></td></tr></table></figure>
        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/javascript/">
                #JavaScript
              </a>
            
              <a href="/tags/snippet/">
                #Snippet
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Express - app.router
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-21
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/approuter-in-expressjs/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/approuter-in-expressjs/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>In ExpressJS 3.x, you may see a line code:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line"><span class="keyword">app</span>.<span class="keyword">use</span>(<span class="keyword">app</span>.router);</span>
</pre></td></tr></table></figure>
<p>Briefly, <code>app.router</code> is the component that knows what to do when you call <code>app.get()</code> etc. See the Connect documentation for the <code>router</code> middleware to understand what it does.</p>
<h3 id="Why_is_order_important?">Why is order important?</h3><p>If the router middleware was installed before the session middleware, your router handlers would run before the sesssion middleware so the session wouldn’t be setup until after your handler completed; if the route middleware was installed after the errorHandler middleware, errorHandler wouldn’t get a chance to deal with error from your route handler because it would have been run before the router handler got called.</p>
<p>Bacically, you need to install <code>app.router</code> explicitly if you have other middleware that you need to ensure come after it in the stack.</p>
<p>References:</p>
<ul>
<li><a href="http://stackoverflow.com/questions/12695591/node-js-express-js-how-does-app-router-work" target="_blank" rel="external">How does app.router work?(SO)</a> </li>
<li><a href="https://groups.google.com/forum/#!topic/express-js/OvMo-SYMIMg" target="_blank" rel="external">app.use(app.router) question (Google Groups)</a></li>
</ul>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/express/">
                #Express
              </a>
            
              <a href="/tags/node-js/">
                #Node.js
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Split in javascript
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-20
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/split-in-javascript/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/split-in-javascript/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>In JavaScript, <code>split</code> behaves a litte different than expected. For example, we have a string needed to be split into pieces:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
</pre></td><td class="code"><pre><span class="line">var str = 'Steve Jobs, Deciding what not to <span class="operator"><span class="keyword">do</span> <span class="keyword">is</span>, <span class="string">' +  </span>
<span class="line">          '</span><span class="keyword">as</span> important <span class="keyword">as</span> deciding what <span class="keyword">to</span> <span class="keyword">do</span><span class="string">';</span></span></span>
</pre></td></tr></table></figure>
<p>Say, we need to split and format the above string into:</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">Steve Jobs: Deciding what <span class="keyword">not</span> <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">is</span>, <span class="keyword">as</span> important <span class="keyword">as</span> deciding what <span class="keyword">to</span> <span class="keyword">do</span>.</span>
</pre></td></tr></table></figure>
<p>If we use <code>split</code> without limitation: </p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
</pre></td><td class="code"><pre><span class="line">var pieces = <span class="built_in">str</span>.<span class="built_in">split</span>(<span class="string">','</span>);</span>
<span class="line">console.<span class="built_in">log</span>(pieces);</span>
</pre></td></tr></table></figure>
<p>Actually, we got:</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">[Steve Jobs, Deciding what <span class="keyword">not</span> <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">is</span>, <span class="keyword">as</span> important <span class="keyword">as</span> deciding what <span class="keyword">to</span> <span class="keyword">do</span>]`.</span>
</pre></td></tr></table></figure>
<p>So we add another argument:</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
</pre></td><td class="code"><pre><span class="line">var pieces = <span class="built_in">str</span>.<span class="built_in">split</span>(<span class="string">','</span>, <span class="number">1</span>);</span>
<span class="line">console.<span class="built_in">log</span>(pieces);</span>
</pre></td></tr></table></figure>
<p>Got Only <code>[Steve Jobs]</code>. The result is not we except. The second argument just identify how many elments in the spilt pieces would return.</p>
<p>So we need to do the <code>split</code> ourself:</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
<span class="line">3</span>
<span class="line">4</span>
<span class="line">5</span>
<span class="line">6</span>
<span class="line">7</span>
<span class="line">8</span>
<span class="line">9</span>
<span class="line">10</span>
<span class="line">11</span>
<span class="line">12</span>
<span class="line">13</span>
<span class="line">14</span>
<span class="line">15</span>
<span class="line">16</span>
<span class="line">17</span>
<span class="line">18</span>
</pre></td><td class="code"><pre><span class="line">function splitEnhanced(str, seperator, maxSplit) &#123;</span>
<span class="line">    <span class="keyword">var</span> pieces = str.split(seperator);</span>
<span class="line">    <span class="keyword">var</span> <span class="literal">result</span> = [];</span>
<span class="line"></span>
<span class="line">    <span class="keyword">if</span> (!maxSplit) &#123;</span>
<span class="line">        <span class="keyword">return</span> pieces;</span>
<span class="line">    &#125;</span>
<span class="line">    <span class="keyword">while</span> (maxSplit &gt; <span class="number">0</span>) &#123;</span>
<span class="line">        <span class="literal">result</span>.push(pieces.shift());</span>
<span class="line">        maxSplit--;</span>
<span class="line">    &#125;</span>
<span class="line">    <span class="literal">result</span>.push(pieces.join(seperator));</span>
<span class="line">    </span>
<span class="line">    <span class="keyword">return</span> <span class="literal">result</span>;</span>
<span class="line">&#125;</span>
<span class="line"></span>
<span class="line"><span class="keyword">var</span> pieces = splitEnhanced(str, ',', <span class="number">1</span>);</span>
<span class="line">console.log(pieces.join(':'));</span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/javascript/">
                #JavaScript
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-link ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            <a class="post-title-link post-title-link-external" target="_blank" href="http://quickleft.com/blog/angularjs-unit-testing-for-real-though">
              AngularJs Unit Testing
              <i class="icon-external-link"></i>
            </a>
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-19
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/angularjs-unit-testing/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/angularjs-unit-testing/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/angularjs/">
                #AngularJS
              </a>
            
              <a href="/tags/read-it-later/">
                #Read It Later
              </a>
            
              <a href="/tags/testing/">
                #Testing
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-link ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            <a class="post-title-link post-title-link-external" target="_blank" href="http://developer.telerik.com/featured/comprehensive-guide-styling-file-inputs/">
              A comprehensive guide to styling file inputs
              <i class="icon-external-link"></i>
            </a>
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-18
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/a-comprehensive-guide-to-styling-file-inputs/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/a-comprehensive-guide-to-styling-file-inputs/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <blockquote>
<p>Full video game engine with 3D rendering and real-world physics in a browser? Yes. Ability to style &lt;select&gt; dropdowns in a browser? No.</p>
<p>Nicholas C. Zakas - @slicknet</p>
</blockquote>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/read-it-later/">
                #Read It Later
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Action methods vs Normal methods
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-15
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/action-methods-vs-normal-methods/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/action-methods-vs-normal-methods/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>So what is the difference between an action method and a regular method? Nothing. An action method is really just the same as any other method. The only special thing is the <code>(IBAction)</code> specifier. This allows Interface Builder to see the method so you can hook it up to your buttons, sliders, and so on.</p>
<p>Other methods, such as <code>viewDidLoad</code>, do not have the <code>IBAction</code> specifier. This is a good thing because all kinds of mayhem would occur if you hooked them up to your buttons.</p>
<p>This is the simple form of an action method:</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>(IBAction)doSomething;</span>
</pre></td></tr></table></figure>
<p>You can also ask for a reference to the object that triggered this action:</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line"><span class="pp">- <span class="params">(<span class="variable">IBAction</span>)</span>buttonTapped:<span class="params">(<span class="variable">UIButton</span> *)</span>button;</span></span>
</pre></td></tr></table></figure>
<p>But this method cannot be used as an action from Interface Builder:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)someOtherMethod;</span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/ios/">
                #iOS
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Properties v.s Instance Variables
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-14
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/properties-vs-instance-variables/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/properties-vs-instance-variables/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>Properties and instance variables have a lot in common. In fact, when you create a property, it is “backed” by an instance variable. That means your slider property stores its value in an instance variable named _slider (note the leading underscore). This instance variable was automatically added to the view controller by the Objective-C compiler.</p>
<p>Why? Well, a property needs to store its value somewhere and an instance variable is a good place for that. You can tell the difference between the two because properties are always accessed using self.<br>This uses the property:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">self.slider.<span class="keyword">value</span> = <span class="number">50</span>;</span>
</pre></td></tr></table></figure>
<p>This uses the backing instance variable directly:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">_slider.<span class="keyword">value</span> = <span class="number">50</span>;</span>
</pre></td></tr></table></figure>
<p>So what is the added benefit of using a property over an instance variable? There are several reasons but mainly instance variables are supposed to be used only by the insides of an object. Other objects aren’t intended to see them or use them.</p>
<p>Properties, however, can be accessed by other objects that are outside of your view controller. You’ll learn much more about this in the next tutorials because “information hiding” is an important topic in object-oriented programming.</p>
<p>By the way, properties are not just for making outlets. It is customary to use properties for the outlets in your storyboard, but as you will see later, you can also make properties for things that are not in the storyboard.</p>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/ios/">
                #iOS
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Express - Setting view engine
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-11
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/express-settings-view-engine/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/express-settings-view-engine/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p><code>view engine</code> holds the template file extension, e.g. ‘jade’ or ‘html’.</p>
<p>Omitting this variable will cause <code>res.render</code> failed to load templates. Explicitly specify the extension if omitted this variable:</p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">res.rend(<span class="symbol">'index</span>.jade', datas);</span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/express/">
                #Express
              </a>
            
              <a href="/tags/node-js/">
                #Node.js
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Express - Setting environment
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-11
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/express-settings-env/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/express-settings-env/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p><code>env</code> variable is used to store the current environment node for this particular Node.js process.</p>
<p>The value is automatically set by Express.js from process.env.NODE_ENV, or <code>development</code> if that value is not set.</p>
<p>The most common values for <code>env</code> setting are:</p>
<ul>
<li>test</li>
<li>stage</li>
<li>preview</li>
<li>production</li>
</ul>
<p>We can argument the <code>env</code> by:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
<span class="line">3</span>
<span class="line">4</span>
</pre></td><td class="code"><pre><span class="line">app.<span class="keyword">set</span>(<span class="string">'env'</span>, <span class="string">'preview'</span>);</span>
<span class="line"></span>
<span class="line"><span class="comment">// OR</span></span>
<span class="line">process.env.NODE_ENV = <span class="string">'preview'</span>;</span>
</pre></td></tr></table></figure>
<p>However, the better way is to start the app in the CLI:</p>
<figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line"><span class="attribute">NODE_ENV</span>=<span class="string">preview node app</span></span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/express/">
                #Express
              </a>
            
              <a href="/tags/node-js/">
                #Node.js
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Watchers for express application development
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-10
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/watchers-for-express-application-development/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/watchers-for-express-application-development/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>There are brilliant tools that can leverage watch method from the core Node.js fs module and restart server when changes are made:</p>
<ul>
<li><a href="https://github.com/isaacs/node-supervisor" target="_blank" rel="external">Supervisor</a></li>
<li><a href="https://github.com/LearnBoost/up" target="_blank" rel="external">up</a></li>
<li><a href="https://github.com/fgnass/node-dev" target="_blank" rel="external">node-dev</a></li>
<li><a href="https://github.com/remy/nodemon" target="_blank" rel="external">nodemon</a></li>
</ul>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/express/">
                #Express
              </a>
            
              <a href="/tags/node-js/">
                #Node.js
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Bootstrap an express application
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-08
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/bootstrap-express-app/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/bootstrap-express-app/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>Things we perform in a express application’s entry point file:</p>
<ol>
<li>Import dependencies.</li>
<li>Configurations. Such as the template engine.</li>
<li>Define Middlewares.</li>
<li>Define Routes.</li>
<li>Connection to DB.</li>
<li>Start the app.</li>
</ol>
<p>Example:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span>
<span class="line">2</span>
<span class="line">3</span>
<span class="line">4</span>
<span class="line">5</span>
<span class="line">6</span>
<span class="line">7</span>
<span class="line">8</span>
<span class="line">9</span>
<span class="line">10</span>
<span class="line">11</span>
<span class="line">12</span>
<span class="line">13</span>
<span class="line">14</span>
<span class="line">15</span>
<span class="line">16</span>
<span class="line">17</span>
<span class="line">18</span>
<span class="line">19</span>
<span class="line">20</span>
<span class="line">21</span>
<span class="line">22</span>
<span class="line">23</span>
<span class="line">24</span>
<span class="line">25</span>
<span class="line">26</span>
<span class="line">27</span>
</pre></td><td class="code"><pre><span class="line"><span class="comment">// Dependencies.</span></span>
<span class="line"><span class="keyword">var</span> expres = require(<span class="string">'express'</span>);</span>
<span class="line"><span class="keyword">var</span> app = express();</span>
<span class="line"></span>
<span class="line"><span class="comment">// Configurations.</span></span>
<span class="line"><span class="keyword">var</span> port = process.env.PORT || <span class="number">7654</span>;</span>
<span class="line">app.<span class="keyword">set</span>(<span class="string">'port'</span>, port);</span>
<span class="line">app.<span class="keyword">set</span>(<span class="string">'view'</span>, __dirname + <span class="string">'/views'</span>);</span>
<span class="line"></span>
<span class="line"><span class="comment">// Middlewares.</span></span>
<span class="line">app.<span class="keyword">use</span>(express.favicon());</span>
<span class="line">app.<span class="keyword">use</span>(express.<span class="keyword">static</span>(__dirname + <span class="string">'/public'</span>));</span>
<span class="line">app.<span class="keyword">use</span>(express.bodyParser());</span>
<span class="line">app.<span class="keyword">use</span>(express.methodOverride());</span>
<span class="line">app.<span class="keyword">use</span>(express.session());</span>
<span class="line"></span>
<span class="line"><span class="comment">// Routes.</span></span>
<span class="line">app.<span class="keyword">get</span>(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> </span>&#123;</span>
<span class="line">    res.end(<span class="string">'Hello World!'</span>);</span>
<span class="line">&#125;);</span>
<span class="line"></span>
<span class="line"><span class="comment">// DB Connection.</span></span>
<span class="line"></span>
<span class="line"><span class="comment">// Start.</span></span>
<span class="line">app.listen(port, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span>
<span class="line">    console.log(<span class="string">'Service is running on: '</span>, port);</span>
<span class="line">&#125;);</span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/express/">
                #Express
              </a>
            
              <a href="/tags/node-js/">
                #Node.js
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Explanation of angular module
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-04
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/explanation-of-angular-module/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/explanation-of-angular-module/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p><img src="/uploads/angular-module.png" alt=""><br><img src="/uploads/angular-module-2.png" alt=""></p>
<p>From <a href="http://v.youku.com/v_show/id_XNjE2MzYyNTA4.html" target="_blank" rel="external">AngularJS Fundamentals in 60-ish Minutes</a></p>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/angularjs/">
                #AngularJS
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-link ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            <a class="post-title-link post-title-link-external" target="_blank" href="http://www.html5rocks.com/zh/tutorials/webcomponents/shadowdom/">
              Shadow DOM 101
              <i class="icon-external-link"></i>
            </a>
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-02
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/shadow-dom-101/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/shadow-dom-101/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/html/">
                #HTML
              </a>
            
              <a href="/tags/read-it-later/">
                #Read It Later
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

    
    
    

    
    

    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              GitHub - Display images in the README
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2014-08-01
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/github-display-images/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/github-display-images/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>There are two ways to make GitHub rendering images in the README:</p>
<ul>
<li>Using relative path. Append <code>?raw=true</code> to the image uri:</li>
</ul>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">!<span class="literal">[]</span>(path/<span class="keyword">to</span>/image.png?raw=<span class="literal">true</span>)</span>
</pre></td></tr></table></figure>
<ul>
<li>Use the intact uri of the image in the GitHub repository:</li>
</ul>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span>
</pre></td><td class="code"><pre><span class="line">![](<span class="symbol">https:</span>/<span class="regexp">/github.com/username</span><span class="regexp">/reponame/blob</span><span class="regexp">/master/images</span><span class="regexp">/image.png)</span></span>
</pre></td></tr></table></figure>

        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/github/">
                #GitHub
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  

          </div>

          
        </div>

        
<div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    
      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview">
          站点概览
        </li>
      </ul>
    

    <div class="site-overview">
      <div class="site-author motion-element">
        <img class="site-author-image" src="/images/default_avatar.jpg" alt="iissnan" />
        <p class="site-author-name">iissnan</p>
      </div>
      <p class="site-description motion-element">胡编一通，乱写一气</p>
      <div class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <span class="site-state-item-count">172</span>
          <span class="site-state-item-name">日志</span>
        </div>
        <div class="site-state-item site-state-tags">
            <span class="site-state-item-count">105</span>
            <span class="site-state-item-name">标签</span>
        </div>
        <div class="site-state-item site-state-pages">
            <span class="site-state-item-count">1</span>
            <span class="site-state-item-name">页面</span>
        </div>
      </div>

      
        <div class="feed-link motion-element">
          <a href="/atom.xml">
            <i class="menu-item-icon icon-feed"></i>
            RSS
          </a>
        </div>
      

      <div class="social-info motion-element">
        
          
            <span class="soclial-item">
              <a href="https://github.com/iissnan">GITHUB</a>
            </span>
          
            <span class="soclial-item">
              <a href="https://twitter.com/iissnan">TWITTER</a>
            </span>
          
            <span class="soclial-item">
              <a href="http://weibo.com/iissnan">WEIBO</a>
            </span>
          
            <span class="soclial-item">
              <a href="http://douban.com/people/iissnan">DOUBAN</a>
            </span>
          
            <span class="soclial-item">
              <a href="http://www.zhihu.com/people/iissnan">ZHIHU</a>
            </span>
          
        
      </div>

    </div>

    
      <div class="post-toc sidebar-panel-active">
        
      </div>
    
  </div>
</div>


      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp;  2011 - 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">iissnan</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT</a>
</div>



  <div class="cc-license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
      <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
    </a>
  </div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".fancybox").fancybox();
    });
  </script>

  <script type="text/javascript">
  function isDesktop () {
    return screen.width > 991;
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767;
  }

  function isMobile () {
    return screen.width < 767;
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.show', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.hide', function () {

      });


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, SIDEBAR_DISPLAY_DURATION);
      sidebar.trigger('sidebar.show');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.trigger('sidebar.hide');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      $('.post').velocity('transition.slideDownIn', {stagger: 300, drag: true});
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  
  
    <script type="text/javascript" id="motion.page.archive">
      $('.archive-year').velocity('transition.slideLeftIn');
    </script>
  


  

  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"notes-iissnan"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
  
</body>
</html>
